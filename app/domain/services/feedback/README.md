# Feedback module — Модуль обратной связи

## ОБновление notification.py и factory.py
- В модель уведомления базы данных (app/infrastructure/database/models/notification.py) в класс NotificationType добавлен BOOKING_EVALUATION_REQUEST
- В фабрику уведомлений (app/notification/factory.py) 

## Сервис Evaluation Notifications Service
- (app/domain/services/feedback/evaluation_notification.py)
- Сервис запускается как отдельная фоновая задача, проверяющая каждые 5 минут закончивавшиеся бронирования и присылающая уведомление об оценке при условии:
 - От текущего пользователя нет отзыва на это бронирование.
 - Для бронирования нет уведомления об оценке.
 - Прошло 15 минут после завершения бронирования.

## Как сервис работает
- Служба Evaluationnotifications Service работает в фоновом режиме, каждые 5 минут проверяя наличие завершенных бронирований.
- Для каждого завершенного бронирования (завершенного более 15 минут назад, в течение последних 24 часов).
- Проверяет, существует ли обратная связь → если да, пропускает.
- Проверяет, существует ли уже уведомление об оценке → если да, пропускает.
- Создает уведомление, запланированное на 15 минут после окончания срока действия.
- Существующий NotificationScheduler (без изменений) получает эти уведомления и отправляет их автоматически.
- Пользователь получает сообщение с просьбой оценить бронирование.
