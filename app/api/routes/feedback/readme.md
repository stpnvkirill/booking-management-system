# Booking Management System — Модуль обратной связи

## Описание работы

В рамках данной работы был реализован **модуль обратной связи**, предназначенный для сбора отзывов пользователей после завершения бронирования.

Модуль автоматически отслеживает завершённые бронирования и через заданный промежуток времени (15 минут после окончания брони) инициирует запрос на отзыв. Отзыв включает:

- оценку от **1 до 5**
- текстовый комментарий
- привязку к бронированию, пользователю и клиенту
- хранение данных в базе данных

Архитектура решения соответствует текущей структуре проекта и принципам разделения ответственности (API / domain / infrastructure).

---

## Реализованный функционал

### 1. Модель отзыва (Feedback)

- Используется существующая таблица `feedbacks`
- Проверка диапазона оценки (1–5) реализована на уровне БД (`CHECK CONSTRAINT`)
- Отзыв связан с:
  - бронированием
  - пользователем
  - клиентом

### 2. API для приёма отзывов

Реализован HTTP API для создания отзыва:

- эндпоинт расположен в `app/api/routes/feedback.py`
- принимает:
  - `booking_id`
  - `rating`
  - `comment` (опционально)
- данные сохраняются в базе данных

### 3. Фоновая задача (background job)

Реализована фоновая задача. Логика расположена в:
- app/domain/services/feedback/evaluation_notification.py      # Логика фоновой задачи
